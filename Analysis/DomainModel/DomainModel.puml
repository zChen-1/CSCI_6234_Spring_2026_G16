@startuml
note as N1
  The domain model for Traffic Camera Browser captures
  the data needed to support the system use cases: 
  registration/login, viewing live traffic cameras, viewing 
  past playback, managing favorites, viewing browsing 
  history,and administering cameras. A User is identified
  by an email and stores authentication information. A 
  specialized Admin inherits from User and includes a role
  attribute to represent administrative privileges. The 
  Camera entity contains the cameraâ€™s stream URL, active
  status, and geographic coordinates so the platform can 
  display cameras on a map. Users personalize the system
  through Favorite records, which associate a user with a
  camera they want to quickly access. User activity is 
  captured through HistoryEntry, which stores when a 
  camera was viewed and whether it was viewed as live or 
  playback. For retroactive browsing (last 72 hours), a 
  user creates a PlaybackRequest that specifies a time 
  window for a camera. Cameras also provide stored 
  video through RecordingSegment objects, representing
  time-based video segments available for playback.
end note
skinparam classAttributeIconSize 0

' ===== Entity Classes (Domain) =====
class User {
  +userId: UUID
  +email: String
  +passwordHash: String
}

class Admin {
  +adminId: UUID
  +role: String
}
User <|-- Admin

class Camera {
  +cameraId: String
  +name: String
  +latitude: Decimal
  +longitude: Decimal
  +streamUrl: String
  +isActive: Boolean
}

class PlaybackRequest {
  +requestId: UUID
  +requestedAt: DateTime
  +startTime: DateTime
  +endTime: DateTime
}

class RecordingSegment {
  +segmentId: String
  +startTime: DateTime
  +endTime: DateTime
  +videoUrl: String
}

class Favorite {
  +favoriteId: UUID
  +createdAt: DateTime
}

class HistoryEntry {
  +historyId: UUID
  +viewedAt: DateTime
  +viewType: String  ' LIVE or PLAYBACK
}

' ===== Associations (with multiplicities) =====

' Favorites: users add/remove cameras to favorites list
User "1" -- "0..*" Favorite : owns >
Camera "1" -- "0..*" Favorite : < saved

' Browsing history: users view/clear history
User "1" -- "0..*" HistoryEntry : has >
Camera "1" -- "0..*" HistoryEntry : < viewed

' Playback: request ties user + camera + time window (72 hours)
User "1" -- "0..*" PlaybackRequest : creates >
Camera "1" -- "0..*" PlaybackRequest : < requested for

' Retroactive data: segments represent stored video for cameras
Camera "1" -- "0..*" RecordingSegment : provides >

@enduml